<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-section">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="nickname">{{userInfo.nickname}}</text>
        <text class="user-id">ID: {{userInfo.userId}}</text>
      </view>
      <button class="edit-btn" bindtap="editProfile">ç¼–è¾‘</button>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ®åŒºåŸŸ -->
  <view class="stats-section">
    <view class="stats-title">æ•°æ®ç»Ÿè®¡</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{statistics.totalVideos}}</text>
        <text class="stat-label">æ€»è§†é¢‘æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{statistics.todayVideos}}</text>
        <text class="stat-label">ä»Šæ—¥è§†é¢‘</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{statistics.totalSize}}</text>
        <text class="stat-label">æ€»å¤§å°</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘è§†é¢‘åŒºåŸŸ -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘è§†é¢‘</text>
      <text class="view-all" bindtap="viewAllVideos">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    
    <view class="video-list-container">
      <view class="video-list">
        <view class="video-item" tt:for="{{recentVideos}}" tt:key="id">
          <image class="video-thumb" src="{{item.thumbnail}}" mode="aspectFill" bindtap="previewVideoCover" data-url="{{item.thumbnail}}" />
          
          <!-- è§†é¢‘çŠ¶æ€æ ‡ç­¾ -->
          <view class="video-status {{item.status}}">
            {{item.status === 'completed' ? 'å·²å®Œæˆ' : item.progress + '%'}}
          </view>
          
          <view class="video-info">
            <text class="video-time">{{item.createTime.split('T')[0]}}</text>
            <view class="video-actions">
              <button class="btn-download" tt:if="{{item.status === 'completed'}}" bindtap="downloadVideo" data-url="{{item.videoUrl}}">
                ä¸‹è½½
              </button>
            </view>
          </view>
          
          <!-- æ“ä½œæŒ‰é’® -->
          <view class="video-actions">
            <button class="btn-delete" bindtap="deleteVideo" data-id="{{item.id}}">
              åˆ é™¤
            </button>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå•åŒºåŸŸ -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-item" bindtap="shareApp">
        <view class="menu-icon">ğŸ“¤</view>
        <text class="menu-text">åˆ†äº«åº”ç”¨</text>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="feedback">
        <view class="menu-icon">ğŸ’¬</view>
        <text class="menu-text">æ„è§åé¦ˆ</text>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="aboutUs">
        <view class="menu-icon">â„¹ï¸</view>
        <text class="menu-text">å…³äºæˆ‘ä»¬</text>
        <view class="menu-arrow">></view>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-item" bindtap="clearCache">
        <view class="menu-icon">ğŸ—‘ï¸</view>
        <text class="menu-text">æ¸…é™¤ç¼“å­˜</text>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="goToSettings">
        <view class="menu-icon">âš™ï¸</view>
        <text class="menu-text">è®¾ç½®</text>
        <view class="menu-arrow">></view>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
    <view class="menu-group">
      <view class="menu-item logout-item" bindtap="logout">
        <view class="menu-icon">ğŸšª</view>
        <text class="menu-text logout-text">é€€å‡ºç™»å½•</text>
        <view class="menu-arrow">></view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆªæ  -->
  <!-- <bottom-nav current="profile" bind:navchange="onNavChange"></bottom-nav> -->

  <!-- æ·»åŠ è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <custom-tab-bar />
</view> 
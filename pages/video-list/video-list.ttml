<view class="container">
  <!-- <view class="header">
    <view class="title">æˆ‘çš„è§†é¢‘</view>
    <view class="btn-close" bindtap="goBack">Ã—</view>
  </view> -->

  <scroll-view 
    class="video-scroll"
    scroll-y
    bindscrolltolower="onReachBottom"
  >
    <view class="video-grid">
      <view 
        class="video-card {{item.status !== 'completed' ? (item.status === 'failed' ? 'video-failed' : 'video-generating') : ''}}" 
        tt:for="{{videos}}" 
        tt:key="id"
        bindtap="previewVideo"
        data-url="{{item.videoUrl}}"
        data-status="{{item.status}}"
      >
        <image class="thumbnail" src="{{item.thumbnail}}" mode="aspectFill" />
        <view class="video-play-icon" tt:if="{{item.status === 'completed'}}"></view>
        
        <!-- ç”Ÿæˆä¸­çŠ¶æ€æ˜¾ç¤º -->
        <view class="generating-mask" tt:if="{{item.status !== 'completed' && item.status !== 'failed'}}">
          <text class="generating-text">ç”Ÿæˆä¸­...</text>
        </view>
        
        <!-- ç”Ÿæˆå¤±è´¥çŠ¶æ€æ˜¾ç¤º -->
        <view class="failed-mask" tt:if="{{item.status === 'failed'}}">
          <text class="failed-text">ç”Ÿæˆå¤±è´¥</text>
        </view>
        
        <!-- åˆ†äº«æŒ‰é’® -->
        <!-- <view class="share-btn" bindtap="shareVideo" data-video="{{item}}" data-status="{{item.status}}">
          <text class="share-icon">ğŸ“¤</text>
        </view> -->
        
        <view class="video-info">
          <text class="video-title">{{item.name || 'æœªå‘½åè§†é¢‘'}}</text>
          <text class="video-date">{{item.createTime.split('T')[0]}}</text>
          <text class="video-status" tt:if="{{item.status === 'failed'}}">ç”Ÿæˆå¤±è´¥</text>
          <text class="video-status" tt:elif="{{item.status !== 'completed'}}">ç”Ÿæˆä¸­</text>
        </view>
      </view>
      <view class="load-more" tt:if="{{isLoading}}">
        <text>åŠ è½½ä¸­...</text>
      </view>
    </view>
  </scroll-view>
</view>
